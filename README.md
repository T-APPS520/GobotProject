# Tello ドローンコントローラー

このプログラムは、DJI Telloドローンをキーボードで制御し、カメラの映像を録画できるGoアプリケーションです。

## 機能

- **ドローン制御**: キーボードでドローンの離陸、着陸、移動を制御
- **カメラビューワー**: ドローンのカメラからビデオストリームを受信
- **録画機能**: カメラの映像をH.264形式で録画

## ファイル構成

- `main.go` - メインプログラム（基本クラス）
- `drone_controller.go` - Telloドローンを制御するクラス
- `camera_viewer.go` - カメラ画像を処理・録画するクラス
- `keyboard_handler.go` - キーボード入力を処理するクラス

## 使用方法

### 1. 実行前の準備

1. Telloドローンの電源を入れる
2. PCのWi-FiでTelloのネットワーク（TELLO-xxxxxx）に接続
3. プログラムを実行

### 2. プログラムの実行

```bash
go run .
# または
go build -o tello_controller.exe
.\tello_controller.exe
```

### 3. キーボード操作

| キー | 動作 |
|------|------|
| **W** | 前進 |
| **A** | 左移動 |
| **S** | 後退 |
| **D** | 右移動 |
| **Space** | 上昇 |
| **Z** | 降下 |
| **Escape** | 離陸/着陸の切り替え |
| **L** | 録画開始/停止 |
| **Q** | プログラム終了 |

### 4. 録画について

- **L**キーを押すと録画が開始されます
- 録画ファイルは `tello_recording_YYYYMMDD_HHMMSS.h264` 形式で保存されます
- 再度**L**キーを押すと録画が停止されます

## 必要なパッケージ

```go
go get gobot.io/x/gobot
go get gobot.io/x/gobot/platforms/dji/tello
go get github.com/nsf/termbox-go
```

## 注意事項

1. **安全な場所での使用**: ドローンは必ず安全な場所で使用してください
2. **バッテリー残量**: ドローンのバッテリー残量を確認してから使用してください
3. **Wi-Fi接続**: TelloドローンのWi-Fiネットワークに接続されていることを確認してください
4. **室内使用推奨**: 初回使用時は室内での使用を推奨します

## トラブルシューティング

### ドローンに接続できない場合
- TelloのWi-Fiネットワークに正しく接続されているか確認
- ドローンが起動しているか確認
- 他のTelloコントローラーアプリが起動していないか確認

### キーボード操作が効かない場合
- プログラムのコンソール画面がアクティブになっているか確認
- termbox-goパッケージが正しくインストールされているか確認

### 録画ファイルが作成されない場合
- プログラムの実行ディレクトリに書き込み権限があるか確認
- ディスクの空き容量があるか確認

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
